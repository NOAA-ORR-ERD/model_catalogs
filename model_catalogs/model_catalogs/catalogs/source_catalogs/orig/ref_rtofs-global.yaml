name: RTOFS-Global
description: Real-Time Ocean Forecast System model in HYCOM.
metadata:
  grid_dim_(xyz): [4320,2160,33]
  grid_res_min_(deg): 1/12
  grid_res_max_(deg): 1/12
  grid_type: 'rectangular'

sources:
  forecast:
    driver: opendap
    description: 3-hourly 2D Real-Time Ocean Forecast System model in HYCOM from yesterday through 7 day forecast.
    parameters:
      tod:
        description: Pandas like Timestamp for today
        type: datetime  # one of bool, str, int, float, list[str | int | float], datetime,
        default: today
    args:
      chunks:
        time: 1
      # drop_variables: ['ocean_time']
      compat: override
      combine: by_coords
      parallel: True
      data_vars: minimal
      coords: minimal
      engine: netcdf4
      urlpath: [
      "https://nomads.ncep.noaa.gov/dods/rtofs/rtofs_global{{ tod.year }}{{ tod.strftime('%m') }}{{ tod.strftime('%d') }}/rtofs_glo_2ds_forecast_3hrly_diag",
      "https://nomads.ncep.noaa.gov/dods/rtofs/rtofs_global{{ tod.year }}{{ tod.strftime('%m') }}{{ tod.strftime('%d') }}/rtofs_glo_2ds_forecast_3hrly_ice",
      "https://nomads.ncep.noaa.gov/dods/rtofs/rtofs_global{{ tod.year }}{{ tod.strftime('%m') }}{{ tod.strftime('%d') }}/rtofs_glo_2ds_forecast_3hrly_prog",
      ]
    metadata:
      overall_start_datetime: '1 day before present day.'
      overall_end_datetime: '7 days after present day'

  # forecast-3D-daily:
  #   driver: opendap
  #   description: Daily 3D Real-Time Ocean Forecast System model in HYCOM for present day through 8 day forecast.
  #   parameters:
  #     tod:
  #       description: Pandas like Timestamp for today
  #       type: datetime  # one of bool, str, int, float, list[str | int | float], datetime,
  #       default: today
  #     # yesterday:
  #     #   description: Pandas like Timestamp for yesterday
  #     #   type: datetime  # one of bool, str, int, float, list[str | int | float], datetime,
  #     #   # default: today
  #   args:
  #     chunks:
  #       time: 1
  #     # drop_variables: ['ocean_time']
  #     compat: override
  #     combine: by_coords
  #     parallel: True
  #     data_vars: minimal
  #     coords: minimal
  #     engine: netcdf4
  #     urlpath: [
  #     # "https://nomads.ncep.noaa.gov/dods/rtofs/rtofs_global{{ yesterday.year }}{{ yesterday.strftime('%m') }}{{ yesterday.strftime('%d') }}/rtofs_glo_3dz_nowcast_daily_salt",
  #     # "https://nomads.ncep.noaa.gov/dods/rtofs/rtofs_global{{ yesterday.year }}{{ yesterday.strftime('%m') }}{{ yesterday.strftime('%d') }}/rtofs_glo_3dz_nowcast_daily_temp",
  #     # "https://nomads.ncep.noaa.gov/dods/rtofs/rtofs_global{{ yesterday.year }}{{ yesterday.strftime('%m') }}{{ yesterday.strftime('%d') }}/rtofs_glo_3dz_nowcast_daily_uvel",
  #     # "https://nomads.ncep.noaa.gov/dods/rtofs/rtofs_global{{ yesterday.year }}{{ yesterday.strftime('%m') }}{{ yesterday.strftime('%d') }}/rtofs_glo_3dz_nowcast_daily_vvel",
  #     # "https://nomads.ncep.noaa.gov/dods/rtofs/rtofs_global{{ tod.year }}{{ tod.strftime('%m') }}{{ tod.strftime('%d') }}/rtofs_glo_3dz_nowcast_daily_salt",
  #     # "https://nomads.ncep.noaa.gov/dods/rtofs/rtofs_global{{ tod.year }}{{ tod.strftime('%m') }}{{ tod.strftime('%d') }}/rtofs_glo_3dz_nowcast_daily_temp",
  #     # "https://nomads.ncep.noaa.gov/dods/rtofs/rtofs_global{{ tod.year }}{{ tod.strftime('%m') }}{{ tod.strftime('%d') }}/rtofs_glo_3dz_nowcast_daily_uvel",
  #     # "https://nomads.ncep.noaa.gov/dods/rtofs/rtofs_global{{ tod.year }}{{ tod.strftime('%m') }}{{ tod.strftime('%d') }}/rtofs_glo_3dz_nowcast_daily_vvel",
  #     "https://nomads.ncep.noaa.gov/dods/rtofs/rtofs_global{{ tod.year }}{{ tod.strftime('%m') }}{{ tod.strftime('%d') }}/rtofs_glo_3dz_forecast_daily_salt",
  #     "https://nomads.ncep.noaa.gov/dods/rtofs/rtofs_global{{ tod.year }}{{ tod.strftime('%m') }}{{ tod.strftime('%d') }}/rtofs_glo_3dz_forecast_daily_temp",
  #     "https://nomads.ncep.noaa.gov/dods/rtofs/rtofs_global{{ tod.year }}{{ tod.strftime('%m') }}{{ tod.strftime('%d') }}/rtofs_glo_3dz_forecast_daily_uvel",
  #     "https://nomads.ncep.noaa.gov/dods/rtofs/rtofs_global{{ tod.year }}{{ tod.strftime('%m') }}{{ tod.strftime('%d') }}/rtofs_glo_3dz_forecast_daily_vvel",
  #     ]
  #   metadata:
  #     overall_start_datetime: 'Daily starting present day.'
  #     overall_end_datetime: '8 days after present day'

  # nowcast-2D-hourly:
  #   driver: opendap
  #   description: Hourly 2D Real-Time Ocean Forecast System model in HYCOM for 2 days before present day.
  #   parameters:
  #     tod:
  #       description: Pandas like Timestamp for today
  #       type: datetime  # one of bool, str, int, float, list[str | int | float], datetime,
  #       default: today
  #     yesterday:
  #       description: Pandas like Timestamp for yesterday
  #       type: datetime  # one of bool, str, int, float, list[str | int | float], datetime,
  #       # default: today
  #   args:
  #     chunks:
  #       time: 1
  #     # drop_variables: ['ocean_time']
  #     compat: override
  #     combine: by_coords
  #     parallel: True
  #     data_vars: minimal
  #     coords: minimal
  #     engine: netcdf4
  #     urlpath: [
  #     "https://nomads.ncep.noaa.gov/dods/rtofs/rtofs_global{{ yesterday.year }}{{ yesterday.strftime('%m') }}{{ yesterday.strftime('%d') }}/rtofs_glo_2ds_nowcast_hrly_diag",
  #     "https://nomads.ncep.noaa.gov/dods/rtofs/rtofs_global{{ yesterday.year }}{{ yesterday.strftime('%m') }}{{ yesterday.strftime('%d') }}/rtofs_glo_2ds_nowcast_hrly_ice",
  #     "https://nomads.ncep.noaa.gov/dods/rtofs/rtofs_global{{ yesterday.year }}{{ yesterday.strftime('%m') }}{{ yesterday.strftime('%d') }}/rtofs_glo_2ds_nowcast_hrly_prog",
  #     "https://nomads.ncep.noaa.gov/dods/rtofs/rtofs_global{{ tod.year }}{{ tod.strftime('%m') }}{{ tod.strftime('%d') }}/rtofs_glo_2ds_nowcast_hrly_diag",
  #     "https://nomads.ncep.noaa.gov/dods/rtofs/rtofs_global{{ tod.year }}{{ tod.strftime('%m') }}{{ tod.strftime('%d') }}/rtofs_glo_2ds_nowcast_hrly_ice",
  #     "https://nomads.ncep.noaa.gov/dods/rtofs/rtofs_global{{ tod.year }}{{ tod.strftime('%m') }}{{ tod.strftime('%d') }}/rtofs_glo_2ds_nowcast_hrly_prog",
  #     ]
  #   metadata:
  #     overall_start_datetime: 'Hourly starting 2 days before present time.'
  #     overall_end_datetime: '1 day before present time'
